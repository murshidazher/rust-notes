"use strict";(self.webpackChunksnake_game_wasm=self.webpackChunksnake_game_wasm||[]).push([[548],{548:(e,t,n)=>{let r;n.r(t);const o="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&o.decode();let a=null;const s=Object.freeze({Up:0,0:"Up",Right:1,1:"Right",Down:2,2:"Down",Left:3,3:"Left"});class i{static __wrap(e){e>>>=0;const t=Object.create(i.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_world_free(e)}static new(e,t){const n=r.world_new(e,t);return i.__wrap(n)}width(){return r.world_width(this.__wbg_ptr)>>>0}snake_head_idx(){return r.world_snake_head_idx(this.__wbg_ptr)>>>0}change_snake_dir(e){r.world_change_snake_dir(this.__wbg_ptr,e)}snake_length(){return r.world_snake_length(this.__wbg_ptr)>>>0}snake_cells(){return r.world_snake_cells(this.__wbg_ptr)}update(){r.world_update(this.__wbg_ptr)}}function _(){const e={wbg:{}};return e.wbg.__wbindgen_throw=function(e,t){throw new Error((n=e,s=t,n>>>=0,o.decode((null!==a&&0!==a.byteLength||(a=new Uint8Array(r.memory.buffer)),a).subarray(n,n+s))));var n,s},e}async function c(e){if(void 0!==r)return r;void 0===e&&(e=new URL(n(910),n.b));const t=_();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:o,module:s}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return function(e,t){return r=e.exports,c.__wbindgen_wasm_module=t,a=null,r}(o,s)}c().then((function(e){var t=20,n=Date.now()%64,r=i.new(8,n),o=r.width(),a=document.getElementById("snake-canvas"),_=a.getContext("2d");a.height=o*t,a.width=o*t;var c={ArrowUp:s.Up,ArrowRight:s.Right,ArrowDown:s.Down,ArrowLeft:s.Left},w=r.snake_cells(),d=r.snake_length(),l=new Uint32Array(e.memory.buffer,w,d);function u(){var e,n,a;!function(){_.beginPath();for(var e=0;e<o+1;e++)_.moveTo(t*e,0),_.lineTo(t*e,o*t);for(var n=0;n<o+1;n++)_.moveTo(0,t*n),_.lineTo(o*t,t*n);_.stroke()}(),n=(e=r.snake_head_idx())%o,a=Math.floor(e/o),_.beginPath(),_.fillRect(n*t,a*t,t,t),_.stroke()}console.log(l),document.addEventListener("keydown",(function(e){return r.change_snake_dir(c[e.code])})),u(),function e(){setTimeout((function(){_.clearRect(0,0,a.width,a.height),r.update(),u(),requestAnimationFrame(e)}),1e3/3)}()}))},910:(e,t,n)=>{e.exports=n.p+"2c1cc4411b43755dbc81.wasm"}}]);